(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),r=a.n(i),s=a(12),c=a.n(s),o=(a(105),a(87)),l=a(13),u=a(11),j=a(24),d=a.n(j),h=a(89),m=a(173),b=a(177),p=a(176),O=a(174),x=a(175),g=a(166),f=a(168),v=a(169),y=a(170),C=a(171),S=a(172),N=a(178),w=a(179),W=a(84),_=a.n(W),I=a(164),k=Object(I.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),q=function(e){var t=k(),a=Object(i.useState)([]),s=Object(u.a)(a,2),c=s[0],o=s[1];Object(i.useEffect)((function(){sessionStorage.getItem("Token")&&sessionStorage.getItem("uid")?d.a.get("/api/user",{headers:{authorization:sessionStorage.getItem("Token")}}).then((function(e){return e.data})).then((function(e){o(e)})).catch((function(e){console.log(e)})):e.history.push("/login")}));return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(g.a,{position:"static",children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(v.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{})}),Object(n.jsx)(h.a,{variant:"h6",className:t.title,children:"Fart Magazine"}),Object(n.jsx)(y.a,{color:"inherit",children:"Login"})]})}),Object(n.jsxs)(C.a,{item:!0,xs:12,style:{margin:"5rem"},children:[Object(n.jsxs)(f.a,{children:[Object(n.jsx)(h.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,className:t.title,children:"Users"}),Object(n.jsx)(h.a,{children:Object(n.jsx)(S.a,{onClick:function(){e.history.push("/add-user")},fontSize:"large"})})]}),Object(n.jsxs)(m.a,{size:"small",children:[Object(n.jsx)(O.a,{children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)(p.a,{children:"First Name"}),Object(n.jsx)(p.a,{children:"Last Name"}),Object(n.jsx)(p.a,{children:"Email"}),Object(n.jsx)(p.a,{children:"Bithday"}),Object(n.jsx)(p.a,{children:"Phone No"}),Object(n.jsx)(p.a,{}),Object(n.jsx)(p.a,{})]})}),Object(n.jsx)(b.a,{children:c.map((function(t){return Object(n.jsxs)(x.a,{children:[Object(n.jsx)(p.a,{children:t.first_name}),Object(n.jsx)(p.a,{children:t.last_name}),Object(n.jsx)(p.a,{children:t.email}),Object(n.jsx)(p.a,{children:t.birthday}),Object(n.jsx)(p.a,{children:t.phoneno}),Object(n.jsx)(p.a,{children:sessionStorage.getItem("uid")!==t.id?Object(n.jsx)(N.a,{onClick:function(){return a=t.id,void d.a.delete("/api/user/?user_id=".concat(a),{headers:{authorization:sessionStorage.getItem("Token")}}).then((function(e){return e.data})).then((function(){console.log("Deleted"),o(c.filter((function(e){return e.id!==a})))})).catch((function(t){console.log("deleted"),e.history.push("/")}));var a},color:"secondary"}):""}),Object(n.jsx)(p.a,{children:sessionStorage.getItem("uid")!==t.id?Object(n.jsx)(w.a,{onClick:function(){return a=t.id,n=t.first_name,i=t.last_name,r=t.email,s=t.birthday,c=t.phoneno,console.log("hxch"),void e.history.push({pathname:"/edit-user",state:{user_id:a,first_name_props:n,last_name_props:i,email_props:r,birthday_props:s,phoneno_props:c}});var a,n,i,r,s,c},color:"primary"}):""})]},t.id)}))})]})]})]})},D=a(187),F=a(181),T=a(184),A=a(182),P=a(186),z=a(180),E=a(132),R=a(185),L=a(56),B=a.n(L);function U(){return Object(n.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(z.a,{color:"inherit",href:"https://arijitchowdhury.me/",children:"ARIJIT CHOWDHURY"})," ",(new Date).getFullYear(),"."]})}var H=Object(I.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Y=function(e){var t=H(),a=Object(i.useState)(""),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(i.useState)(""),l=Object(u.a)(o,2),j=l[0],m=l[1],b=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Object(n.jsxs)(C.a,{container:!0,component:"main",className:t.root,children:[Object(n.jsx)(F.a,{}),Object(n.jsx)(C.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:8,md:5,component:E.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(D.a,{className:t.avatar,children:Object(n.jsx)(B.a,{})}),Object(n.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){c(e.target.value)},value:s}),Object(n.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){m(e.target.value)},value:j}),Object(n.jsx)(A.a,{control:Object(n.jsx)(P.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){return function(t){t.preventDefault(),0!==s.length&&0!==j.length&&b.test(s)?d.a.post("/api/auth/login",{email:s,password:j}).then((function(e){return e.data})).then((function(t){sessionStorage.setItem("Token",t.token),sessionStorage.setItem("uid",t.uid),e.history.push("/")})).catch((function(e){console.log(e)})):console.log("Error")}(t)},children:"Sign In"}),Object(n.jsxs)(C.a,{container:!0,children:[Object(n.jsx)(C.a,{item:!0,xs:!0,children:Object(n.jsx)(z.a,{href:"/register",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(C.a,{item:!0,children:Object(n.jsx)(z.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(n.jsx)(R.a,{mt:5,children:Object(n.jsx)(U,{})})]})]})})]})},Z=a(183);function J(){return Object(n.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(z.a,{color:"inherit",href:"https://arijitchowdhury.me/",children:"ARIJIT CHOWDHURY"})," ",(new Date).getFullYear(),"."]})}var V=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),$=function(e){var t=V(),a=Object(i.useState)(""),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(i.useState)(""),l=Object(u.a)(o,2),j=l[0],m=l[1],b=Object(i.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],g=Object(i.useState)(""),f=Object(u.a)(g,2),v=f[0],S=f[1],N=Object(i.useState)("2020-12-13"),w=Object(u.a)(N,2),W=w[0],_=w[1],I=Object(i.useState)(),k=Object(u.a)(I,2),q=k[0],A=k[1],P=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Object(n.jsxs)(Z.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(F.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(D.a,{className:t.avatar,children:Object(n.jsx)(B.a,{})}),Object(n.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(T.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:s,onChange:function(e){c(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:j,onChange:function(e){m(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:O,onChange:function(e){x(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:v,onChange:function(e){S(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{id:"date",label:"Birthday",required:!0,type:"date",InputLabelProps:{shrink:!0},fullWidth:!0,value:W,onChange:function(e){_(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"phoneno",label:"Phone No",type:"number",id:"phoneno",autoComplete:"Phone_no",value:q,onChange:function(e){A(e.target.value)}})})]}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault(),0!==O.length&&0!==v.length&&P.test(O)?(console.log(O,v,s,j,q,W),d.a.post("/api/auth/register",{email:O,password:v,first_name:s,last_name:j,phoneno:q,birthday:W}).then((function(e){return e.data})).then((function(t){e.history.push("/login")})).catch((function(e){console.log(e)}))):console.log("Error")},children:"Sign Up"}),Object(n.jsx)(C.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(C.a,{item:!0,children:Object(n.jsx)(z.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(n.jsx)(R.a,{mt:5,children:Object(n.jsx)(J,{})})]})},G=a(85),M=a.n(G);function K(){return Object(n.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(z.a,{color:"inherit",href:"https://arijitchowdhury.me/",children:"ARIJIT CHOWDHURY"})," ",(new Date).getFullYear(),"."]})}var Q=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),X=function(e){var t=Q(),a=Object(i.useState)(""),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(i.useState)(""),l=Object(u.a)(o,2),j=l[0],m=l[1],b=Object(i.useState)(""),p=Object(u.a)(b,2),O=p[0],x=p[1],g=Object(i.useState)(""),f=Object(u.a)(g,2),v=f[0],S=f[1],N=Object(i.useState)("2020-12-13"),w=Object(u.a)(N,2),W=w[0],_=w[1],I=Object(i.useState)(),k=Object(u.a)(I,2),q=k[0],A=k[1],P=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Object(n.jsxs)(Z.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(F.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(D.a,{className:t.avatar,children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(h.a,{component:"h1",variant:"h5",children:"Add User"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(T.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:s,onChange:function(e){c(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:j,onChange:function(e){m(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:O,onChange:function(e){x(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:v,onChange:function(e){S(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{id:"date",label:"Birthday",required:!0,type:"date",InputLabelProps:{shrink:!0},fullWidth:!0,value:W,onChange:function(e){_(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"phoneno",label:"Phone No",type:"number",id:"phoneno",autoComplete:"Phone_no",value:q,onChange:function(e){A(e.target.value)}})})]}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){if(t.preventDefault(),0===O.length||0===v.length||0===s.length||0===j.length||10!==q.length||!P.test(O))return console.log("Error"),void alert("Error");d.a.post("/api/user",{email:O,password:v,first_name:s,last_name:j,phoneno:q,birthday:W},{headers:{authorization:sessionStorage.getItem("Token")}}).then((function(e){return e.data})).then((function(t){e.history.push("/")})).catch((function(e){console.log(e)}))},children:"Submit"})]})]}),Object(n.jsx)(R.a,{mt:5,children:Object(n.jsx)(K,{})})]})},ee=a(86),te=a.n(ee);function ae(){return Object(n.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(z.a,{color:"inherit",href:"https://arijitchowdhury.me/",children:"ARIJIT CHOWDHURY"})," ",(new Date).getFullYear(),"."]})}var ne=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ie=function(e){var t=e.location.state,a=t.user_id,r=t.first_name_props,s=t.last_name_props,c=t.email_props,o=t.birthday_props,l=t.phoneno_props,j=ne(),m=Object(i.useState)(""),b=Object(u.a)(m,2),p=b[0],O=b[1],x=Object(i.useState)(""),g=Object(u.a)(x,2),f=g[0],v=g[1],S=Object(i.useState)(""),N=Object(u.a)(S,2),w=N[0],W=N[1],_=Object(i.useState)(""),I=Object(u.a)(_,2),k=I[0],q=I[1],A=Object(i.useState)("2020-12-13"),P=Object(u.a)(A,2),z=P[0],E=P[1],L=Object(i.useState)(),B=Object(u.a)(L,2),U=B[0],H=B[1],Y=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;Object(i.useState)((function(){O(r),v(s),W(c),E(o),H(l)}));return Object(n.jsxs)(Z.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(F.a,{}),Object(n.jsxs)("div",{className:j.paper,children:[Object(n.jsx)(D.a,{className:j.avatar,children:Object(n.jsx)(te.a,{})}),Object(n.jsx)(h.a,{component:"h1",variant:"h5",children:"Edit User"}),Object(n.jsxs)("form",{className:j.form,noValidate:!0,children:[Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(T.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:p,onChange:function(e){O(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:f,onChange:function(e){v(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:w,onChange:function(e){W(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:k,onChange:function(e){q(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{id:"date",label:"Birthday",required:!0,type:"date",InputLabelProps:{shrink:!0},fullWidth:!0,value:z,onChange:function(e){E(e.target.value)}})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"phoneno",label:"Phone No",type:"number",id:"phoneno",autoComplete:"Phone_no",value:U,onChange:function(e){H(e.target.value)}})})]}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:j.submit,onClick:function(t){if(t.preventDefault(),0===w.length||0===k.length||0===p.length||0===f.length||10!==U.length||!Y.test(w))return console.log("Error"),void alert("Error");d.a.patch("/api/user",{user_id:a,email:w,password:k,first_name:p,last_name:f,phoneno:U,birthday:z},{headers:{authorization:sessionStorage.getItem("Token")}}).then((function(e){return e.data})).then((function(t){e.history.push("/")})).catch((function(e){console.log(e)}))},children:"Submit"})]})]}),Object(n.jsx)(R.a,{mt:5,children:Object(n.jsx)(ae,{})})]})};var re=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/login",component:Y}),Object(n.jsx)(l.a,{exact:!0,path:"/register",component:$}),Object(n.jsx)(l.a,{exact:!0,path:"/add-user",component:X}),Object(n.jsx)(l.a,{exact:!0,path:"/edit-user",component:ie}),Object(n.jsx)(l.a,{exact:!0,path:"/",component:q})]})})})},se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,190)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(re,{})}),document.getElementById("root")),se()}},[[129,1,2]]]);
//# sourceMappingURL=main.8339a203.chunk.js.map